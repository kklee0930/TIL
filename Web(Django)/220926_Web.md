### ğŸ’»Variable Routing

- íŠ¹ì • í…œí”Œë¦¿ì´ ì¤‘ë³µë˜ëŠ” ê²½ìš° URL ì£¼ì†Œë¥¼ ë³€ìˆ˜ë¡œ ì§€ì •í•˜ì—¬ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤

- URLì˜ ì¼ë¶€ë¥¼ ë³€ìˆ˜ë¡œ ì§€ì •í•˜ì—¬ view í•¨ìˆ˜ì˜ ì¸ìë¡œ ë„˜ê¸°ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤

- ë³€ìˆ˜ì˜ ê°’ì— ë”°ë¼ í•˜ë‚˜ì˜ path()ì— ì—¬ëŸ¬ í˜ì´ì§€ë¥¼ ì—°ê²°ì‹œí‚¬ ìˆ˜ ìˆë‹¤

#### Variable routing ì‘ì„±

- ë³€ìˆ˜ëŠ” `<>`ì— ì •ì˜í•˜ê³  view í•¨ìˆ˜ì˜ ì¸ìë¡œ í• ë‹¹

- ê¸°ë³¸ íƒ€ì…ì€ stringì´ê³  5ê°€ì§€ íƒ€ì…ìœ¼ë¡œ ëª…ì‹œ ê°€ëŠ¥

1. str

2. int

3. slug

4. uuid

5. path

##### View í•¨ìˆ˜ ì‘ì„±

- variable routingìœ¼ë¡œ í• ë‹¹ëœ ë³€ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê³  í…œí”Œë¦¿ ë³€ìˆ˜ë¡œ ì‚¬ìš© ê°€ëŠ¥

```python
# articles/views.py

def hello(request, name):
    context = {
        'name': name,
    }
    return render(request, 'hello.html', context)
```

```html
<!-- articles/templates/hello.html -->

{% extends 'base.html' %} {% block content %}
<h1>ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš” {{name}}ë‹˜!</h1>
{% endblock %}
```

ğŸŒŸ`extends [html_name]`ì´ í…œí”Œë¦¿ ìƒì†ì´ë‹¤. ìì„¸íˆ ì•Œì•„ë³´ì

### ğŸ’»Template Inheritance(í…œí”Œë¦¿ ìƒì†)

#### í…œí”Œë¦¿ ìƒì†

- ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì´ í•µì‹¬

- ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ê³µí†µ ìš”ì†Œë¥¼ í¬í•¨í•˜ê³ , í•˜ìœ„ í…œí”Œë¦¿ì´ ì¬ì •ì˜(override) í•  ìˆ˜ ìˆëŠ” ë¸”ë¡ì„ ì •ì˜í•˜ëŠ” ê¸°ë³¸ 'skeleton' í…œí”Œë¦¿ ìƒì„±ì´ ê°€ëŠ¥

ğŸŒŸëª¨ë“  í…œí”Œë¦¿ì— Bootstrapì„ ì ìš©í•´ë³´ì.

```html
<!-- bootstrapì„ ì ìš©í•œ base.htmlì´ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ, -->
{% extends 'base.html' %}
```

`{% extends '[template_name]'%}`

ìì‹(í•˜ìœ„) í…œí”Œë¦¿ì´ ë¶€ëª¨ í…œí”Œë¦¿ì„ í™•ì¥í•œë‹¤ëŠ” ê²ƒì„ ì•Œë¦°ë‹¤

ë°˜ë“œì‹œ í…œí”Œë¦¿ ìµœìƒë‹¨ì— ì‘ì„± ë˜ì–´ì•¼ í•¨

`{% block content %}{% endblock content %}`

í•˜ìœ„ í…œí”Œë¦¿ì—ì„œ ì¬ì§€ì •(override) í•  ìˆ˜ ìˆëŠ” ë¸”ë¡ì„ ì •ì˜

ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ì„œ endblock íƒœê·¸ì— ì´ë¦„ ì§€ì •ì´ ê°€ëŠ¥

#### í…œí”Œë¦¿ ìƒì† ì˜ˆì‹œ

1. base.htmlì´ë¼ëŠ” skeleton í…œí”Œë¦¿ ì‘ì„±

```html
<!-- articles/templates/base.html -->
</html>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- bootstrap CDN ì‘ì„± -->
</head>

<body>
    {% block content %}
    {% endblock content %}
    <!-- bootstrap CDN ì‘ì„± -->
</body>

</html>
```

2. index í…œí”Œë¦¿ì—ì„œ base í…œí”Œë¦¿ ìƒì†ë°›ìŒ

```html
{% extends 'base.html' %} {% block content %}
<!-- index í…œí”Œë¦¿ ë§Œì˜ ë°ì´í„° -->
<h1>ë§Œë‚˜ì„œ ë°˜ê°‘ìŠµë‹ˆë‹¤.</h1>
<a href="/greeting/">greeting</a>
<a href="/dinner/">dinner</a>
{% endblock content %}
```

### ğŸ’»ì¶”ê°€ í…œí”Œë¦¿ ê²½ë¡œ

- base.htmlì„ ì•± ì•ˆì˜ template ë””ë ‰í† ë¦¬ê°€ ì•„ë‹Œ í”„ë¡œì íŠ¸ ìµœìƒë‹¨ templates ë””ë ‰í† ë¦¬ ì•ˆì— ìœ„ì¹˜í•˜ê²Œ í•˜ê³  ì‹¶ìœ¼ë©´ ê²½ë¡œ ì¶”ê°€ë¥¼ í•œë‹¤

- settings.py ì˜ TEMPLATEì˜ DIRSê°’ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•œë‹¤.

```python
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates',],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```

- app_name/templates/ë””ë ‰í† ë¦¬ ê²½ë¡œ ì™¸ ì¶”ê°€ ê²½ë¡œë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤

### ğŸ’»Sending and Retrieving form data(ë°ì´í„° ë³´ë‚´ê³  ê°€ì ¸ì˜¤ê¸°)

![](220926_Web.assets/data.png)

- ì›¹ì€ ê¸°ë³¸ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ì•„í‚¤í…ì³ë¥¼ ì‚¬ìš©í•œë‹¤.

- í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ê³  ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì— ì‘ë‹µí•œë‹¤.

- HTML formì€ HTTP ìš”ì²­ì„ ì„œë²„ì— ë³´ë‚´ëŠ” ê°€ì¥ í¸ë¦¬í•œ ë°©ë²•

### ğŸ’»Sending form data(client)

#### HTML `<form>` element

- ë°ì´í„°ê°€ ì „ì†¡ë˜ëŠ” ë°©ë²• ì •ì˜

- ì›¹ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì…ë ¥í•˜ëŠ” ì—¬ëŸ¬ ë°©ì‹(text, button, submit ë“±) ì œê³µí•˜ë©°, ì‚¬ìš©ìë¡œë¶€í„° í• ë‹¹ëœ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ì—­í•  ë‹¤ë§ã…‡

- í•µì‹¬ ì†ì„±: action, method

##### HTML formì˜ í•µì‹¬ ì†ì„±

1. action

- ì…ë ¥ ë°ì´í„°ê°€ ì „ì†¡ë  URL ì§€ì •

- ë°ì´í„°ë¥¼ ì–´ë””ë¡œ ë³´ë‚¼ ê²ƒì¸ì§€ ì§€ì •í•˜ëŠ” ê²ƒì´ë©° ë°˜ë“œì‹œ ìœ íš¨í•œ URLì´ì—¬ì•¼ í•¨

2. method

- ë°ì´í„°ë¥¼ "ì–´ë–»ê²Œ" ë³´ë‚¼ ê²ƒì¸ì§€ ì •ì˜

- ì…ë ¥ ë°ì´í„°ì˜ HTTP request methodsë¥¼ ì§€ì •

- GETê³¼ POST ë°©ì‹ì´ ìˆìŒ

```python
# urls.py
urlpatterns = [
    ...,
    path('throw/', views.throw),
]

# articles/views.py
def throw(request):
    return render(request, 'throw.html')
```

```html
{% extends 'base.html' %} {% block content %}
<h1>Throw</h1>
<form action="#" method="#"></form>
{% endblock content %}
```

3. name

- formì„ í†µí•´ ë°ì´í„°ë¥¼ ì œì¶œ(submit) í–ˆì„ ë•Œ name ì†ì„±ì— ì„¤ì •ëœ ê°’ì„ ì„œë²„ë¡œ ì „ì†¡í•˜ê³ , ì„œë²„ëŠ” name ì†ì„±ì— ì„¤ì •ëœ ê°’ì„ í†µí•´ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„° ê°’ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

- ì£¼ìš” ìš©ë„ëŠ” GET/POST ë°©ì‹ìœ¼ë¡œ ì„œë²„ì— ì „ë‹¬í•˜ëŠ” íŒŒë¼ë¯¸í„°(nameì€ key, valueëŠ” value)ë¡œ ë§¤í•‘í•˜ëŠ” ê²ƒ

`URL?key=value&key=value/`

#### HTML `<input>` element ì‘ì„±

```html
<!-- articles/templates/throw.html -->
{% extends 'base.html' %} {% block content %}
<h1>Throw</h1>
<form action="#" method="#">
  <label for="message">Throw</label>
  <input type="text" id="message" name="message" />
  <input type="submit" />
</form>
{% endblock content %}
```

#### HTTP request methods

- HTTP: HyperText Transfer Protocol

- HTTPëŠ” ì£¼ì–´ì§„ ë¦¬ì†ŒìŠ¤ê°€ ìˆ˜í–‰í•  ì›í•˜ëŠ” ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” request methodsë¥¼ ì •ì˜

- ìì›ì— ëŒ€í•œ í–‰ìœ„(ìˆ˜í–‰í•˜ê³ ì í•˜ëŠ” ë™ì‘)ì„ ì •ì˜

HTTP methods ì˜ˆì‹œ: GET, POST, PUT, DELETE

##### GET

- ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ”ë° ì‚¬ìš©(ì„œë²„ë¡œë¶€í„° ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ê¸° ìœ„í•´ ì‚¬ìš©)

- ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©

- ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•  ë•Œ Query String Parametersë¥¼ í†µí•´ ì „ì†¡(ë°ì´í„°ëŠ” URLì— í¬í•¨ë˜ì–´ ì„œë²„ë¡œ ë³´ë‚´ì§)

ğŸŒŸGET ë©”ì„œë“œ ì‘ì„±

- ëª…ì‹œì  í‘œí˜„ì„ ìœ„í•´ì„œ ëŒ€ë¬¸ìë¥¼ ì‚¬ìš©

```html
<!-- throw.html -->

{% extends 'base.html' %} {% block content %}
<h1>Throw</h1>
<form action="#" method="#">
  <label for="message">Throw</label>
  <input type="text" id="message" name="message" />
  <input type="submit" />
</form>
{% endblock content %}
```

##### Query String Parameters

- ì‚¬ìš©ìê°€ ì…ë ¥ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜

- URL ì£¼ì†Œì— ë°ì´í„°ë¥¼ íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ë„˜ê¸´ë‹¤

- ì´ëŸ¬í•œ ë¬¸ìì—´ì€ ì•°í¼ìƒŒë“œ(&)ë¡œ ì—°ê²°ëœ key=value ìŒìœ¼ë¡œ êµ¬ì„±ë˜ê³  ê¸°ë³¸ URLê³¼ ë¬¼ìŒí‘œ(?)ë¡œ êµ¬ë¶„ë¨

ì˜ˆì‹œ: `http://host:port/path?key=value&key=value`

ğŸŒŸQuery String ì´ë¼ê³ ë„ í•¨

- ì •í•´ì§„ ì£¼ì†Œì— ?ë¥¼ ì“°ëŠ” ê²ƒìœ¼ë¡œ Query Stringì˜ ì‹œì‘ì„ ì•Œë¦¼

- key=valueë¡œ í•„ìš”í•œ íŒŒë¼ë¯¸í„° ê°’ ì ìŒ

- ì—¬ëŸ¬ê°œì¼ ê²½ìš° &ì‚¬ìš©

`URL?key=value&key=value`

### ğŸ’»Retrieving the data(server)

- ë°ì´í„° ê°€ì ¸ì˜¤ê¸°(ê²€ìƒ‰í•˜ê¸°)

- ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° key-value ìŒì˜ ëª©ë¡ê³¼ ê°™ì€ ë°ì´í„°ë¥¼ ë°›ìŒ

- throwì—ì„œ ë³´ë‚¸ ë°ì´í„°ë¥¼ catchì—ì„œ ê°€ì ¸ì™€ë³´ì

```python
# urls.py
urlpatterns = [
    ...,
    path('catch/', views.catch),
]

# articles/views.py
def catch(request):
    pass
    return render(request, 'catch.html')
```

```html
<!-- articles/templates/catch.html -->
{% extends 'base.html' %} {% block content %}
<h1>Catch</h1>
<h2>ë°ì´í„°ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.</h2>
<a href="/throw/">ì‘ë‹µì„ ì „ë‹¬í•©ë‹ˆë‹¤.</a>
{% endblock content %}
```

#### action ì‘ì„±

- throw í˜ì´ì§€ì—ì„œ formì˜ action ë¶€ë¶„ì„ ì‘ì„±í•˜ê³  ë°ì´í„°ë¥¼ ë³´ë‚¸ë‹¤.

```html
<!-- articles/templates/throw.html -->
{% extends 'base.html' %} {% block content %}
<h1>Throw</h1>
<form action="/catch/" method="GET">
  <label for="message">Throw</label>
  <input type="text" id="message" name="message" />
  <input type="submit" />
</form>

<a href="/index/">ë’¤ë¡œ</a>
{% endblock content %}

<!-- articles/templates/index.html -->
{% extends 'base.html' %} {% block content %} ...
<a href="/throw/">throw</a>
{% endblock content %}
```

#### ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

- throw í˜ì´ì§€ì˜ formì´ ë³´ë‚¸ ë°ì´í„°ëŠ”

`http://URL/catch/?message=ë°ì´í„°`

- GET methodë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ìˆê¸° ë•Œë¬¸ì— ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•  ë•Œ Query String Parametersë¥¼ í†µí•´ ì „ì†¡

- ë°ì´í„°ëŠ” URLì— í¬í•¨ë˜ì–´ ì„œë²„ë¡œ ë³´ë‚´ì§

ğŸŒŸìš°ë¦¬ê°€ ì‘ì„±í•´ì•¼ í•˜ëŠ” view í•¨ìˆ˜ì—ì„œ í•´ë‹¹ ë°ì´í„°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” requestë¥¼ í™œìš©í•œë‹¤.

```python
# articles/views.py

def catch(request):
    print(request)
    print(type(request))
    print(request.GET)
    print(request.GET.get('message'))
    return render(request, 'catch.html')
```

ì¶œë ¥ê²°ê³¼ëŠ”

```python
<WSGIRequest: GET '/catch/?message=%EB%8D%B0%EC%9D%B4%ED%84%B0%21'>
<class 'django.core.handlers.wsgi.WSGIRequest'>
<QueryDict: {'message': ['ë°ì´í„°']}>
'ë°ì´í„°'
```

- catch ì‘ì„± ë§ˆë¬´ë¦¬

```python
def catch(request):
    message = request.GET.get('message')
    context = {
        'message': message,
    }
    return render(request, 'catch.html', context)
```

```html
<!-- articles/templates/catch.html -->
{% extends 'base.html'} {% block %}
<h1>Catch</h1>
<h2>{{ message }}ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.</h2>
<a href="/index/">ë‹¤ì‹œ ë˜ì§€ê¸°</a>
{% endblock %}
```

#### Request and Response objects

- ìš”ì²­ê³¼ ì‘ë‹µ ê°ì²´ì˜ íë¦„

1. í˜ì´ì§€ê°€ ìš”ì²­ë˜ë©´ DjangoëŠ” ìš”ì²­ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” HttpRequest objectë¥¼ ìƒì„±

2. í•´ë‹¹í•˜ëŠ” ì ì ˆí•œ view í•¨ìˆ˜ë¥¼ ë¡œë“œí•˜ê³  HttpRequestë¥¼ ì²«ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬

3. view í•¨ìˆ˜ëŠ” HttpResponse objectë¥¼ ë°˜í™˜

### ğŸ’»Django URLs

- ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ URLì„ í†µí•œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ìœ¼ë¡œë¶€í„° ì‹œì‘

#### Trailing Slashes

- DjangoëŠ” ëì— `/`ê°€ (Trailing slash) ì—†ë‹¤ë©´ ìë™ìœ¼ë¡œ ë¶™ì—¬ì£¼ëŠ” ê²ƒì´ ê¸°ë³¸ ì„¤ì •
